<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üõç –ö–∞—Ç–∞–ª–æ–≥ Lumini Store</h1>
  </header>

  <nav id="categories"></nav>
  <main id="catalog"></main>

  <script>
    async function loadProducts() {
      const response = await fetch('products.json');
      const products = await response.json();
      const catalog = document.getElementById('catalog');
      const categoriesNav = document.getElementById('categories');

      // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
      const categories = [...new Set(products.map(p => p.category))];
      categoriesNav.innerHTML = categories.map(c => `<button onclick="filter('${c}')">${c}</button>`).join('');

      // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
      window.filter = (cat) => {
        const filtered = cat ? products.filter(p => p.category === cat) : products;
        render(filtered);
      };

      const render = (list) => {
        catalog.innerHTML = '';
        list.forEach(p => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${p.image}" alt="${p.title}">
            <div class="info">
              <h2>${p.title}</h2>
              <p class="price">${p.price} ‚ÇΩ</p>
              <a href="${p.link}" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            </div>
          `;
          catalog.appendChild(card);
        });
      };

      render(products);
    }

    loadProducts();
  </script>
</body>
</html>
